{% extends "theses/theses_base.html" %}

{% load static %}
{% load wagtailcore_tags %}
{% load wagtailuserbar %}
{% load wagtailimages_tags %}


{% block body_class %}template-thesisindex{% endblock %}

{% block content %}
    <main class="hero" style="background-image: url({% static "img/hero-home.jpg" %});">
        <div class="jumbotron">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mr-auto">
                        <h1 class="text-white mb-4">Make your thesis meaningful</h1>
                        <p>We will help you find a thesis topic with high potential to significantly improve the world.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>


    <div class="container mb-5">
        <div class="row">
            <div class="col text-center mb-5">
                <h3 class="px-5">Who will benefit the most from this service? Is it for you? </h3>
            </div>
        </div>


        <div class="row mb-2">
            <div class="col-md"></div>
            <div class="col-md-4">
                <a class="btn btn-lg btn-primary w-100" href="#non-phd-text" data-toggle="collapse">Undergraduate/master</a>
            </div>
            <div class="col-md"></div>
        </div>
        <div id="non-phd-text" class="collapse">
            <div class="card-body">
                <div class="col collapsible-body">
                    <div id="collapse-body" class="collapse collapse-preview">
                        {{ text_nonphd }}
                    </div>
                    <a role="button"
                       class="collapsed"
                       data-toggle="collapse"
                       href="#collapse-body"
                       aria-expanded="false"
                       aria-controls="collapse-body">
                    </a>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md"></div>
            <div class="col-md-4">
                <a class="btn btn-lg btn-primary w-100" href="#phd-text" data-toggle="collapse">PhD</a>
            </div>
            <div class="col-md"></div>
        </div>
        <div id="phd-text" class="collapse">
            <div class="card-body">
                <div class="col collapsible-body">
                    <div id="collapse-body-2" class="collapse collapse-preview">
                        {{ text_phd }}
                    </div>
                    <a role="button"
                       class="collapsed"
                       data-toggle="collapse"
                       href="#collapse-body-2"
                       aria-expanded="false"
                       aria-controls="collapse-body-2">
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-1"></div>
            <div class="col">
                <div class="card-deck mt-4">
                    <div class="card">
                        <h2 class="px-5 text-center mb-3">
                            GET INSPIRED
                        </h2>
                        <div class="card-img-wrapper">
                            <img class="card-img-bottom" src="{% static "img/wood-light-creative-space.jpg" %}" class="card-img-top" alt="Test tubes">
                            <a href="/theses">
                                <div class="topic-areas-overlay">
                                    <h1 class="px-5 card-title text-white">Topics</h1>
                                </div>
                            </a>
                        </div>
                        <div class="card-body">
                            <p class="h5">
                                Get inspired by our suggestions for high impact fields and find a&nbsp;topic within the field yourself
                            </p>
                        </div>
                    </div>
                    <div class="col-2"></div>
                    <div class="card">
                        <h2 class="px-5 text-center mb-3">
                            GET ADVICE
                        </h2>
                        <div class="card-img-wrapper">
                            <img class="card-img-bottom" src="{% static "img/two-woman-chatting.jpg" %}" class="card-img-top" alt="Topics">
                            <a href="/thesis-coaching">
                                <div class="topic-areas-overlay">
                                    <h1 class="px-5 card-title text-white">Coaching</h1>
                                </div>
                            </a>
                        </div>
                        <div class="card-body">
                            <p class="h5">
                                Get advice tailored to your situation from experienced researcher who will help you find a&nbsp;topic that will be a&nbsp;good fit to you
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-1"></div>
        </div>
    </div>

    <div class="bg-primary py-5 my-5">
        <div class="container">
            <div class="row text-center text-white">
                <div class="col">
                    <h1 class="display-3">12,000</h1>
                    <h2 class="text-uppercase">Research hours</h2>
                    <p>directed towards the most pressing global problems</p>
                </div>
                <div class="col">
                    <h1 class="display-3">15</h1>
                    <h2 class="text-uppercase">Countries all over the globe</h2>
                    <p>from which students applied and benefited from our coaching</p>
                </div>
                <div class="col">
                    <h1 class="display-3">40</h1>
                    <h2 class="text-uppercase">Coaches</h2>
                    <p>in our network help students from all backgrounds finding the right topic</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container mb-5">
        <div class="row justify-content-center mb-4">
            <div class="col-md-8 text-center">
                <h1 class="my-4">Check the finished theses of students we advised and what are current students working on</h1>
                <p>
                    <a class="btn btn-lg btn-primary mb-5" href="/finished" target="_blank">view more</a>
                </p>
            </div>
        </div>

        <div class="row mt-1">
            <div class="col"></div>
        </div>
    </div>

    <div class="container">
        <div class="row my-5">
            <div class="col text-center">
                <h1 class="text-uppercase">Our coaches</h1>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            {% for coach in preview_group %}
                <div class="col-lg-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            {% image coach.photo fill-400x400-c100 class="img-fluid mb-3" style="border-radius:50%" %}
                            {{ coach.description | richtext }}
                        </div>
                    </div>
                </div>
            {% empty %}
            {% endfor %}
        </div>

        {% if collapsed_groups %}
            <div id="collapsible-groups" class="collapse">
                {% for group in collapsed_groups %}
                    <div class="row">
                        {% for coach in group %}
                            <div class="col-lg-4 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        {% image coach.photo fill-400x400-c100 class="img-fluid mb-3" style="border-radius:50%" %}
                                        {{ coach.description | richtext }}
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>

            <div class="row mb-4">
                <button id="toggle-all-coaches"
                        class="btn btn-primary mx-auto mt-4"
                        type="button"
                        data-toggle="collapse"
                        data-target="#collapsible-groups"
                        aria-expanded="false"
                        aria-controls="collapsible-groups">
                    View all coaches
                </button>
            </div>
        {% endif %}
    </div>
{% endblock %}

{% block extra_js_2 %}
    <script type="text/javascript">
     $(function () {
         const $toggleButton = $('#toggle-all-coaches');

         $('#collapsible-groups')
             .on('hide.bs.collapse', function () {
                 $toggleButton.text('View all coaches');
             })
             .on('show.bs.collapse', function () {
                 $toggleButton.text('View fewer coaches');
             });
     });
    </script>
{% endblock %}
