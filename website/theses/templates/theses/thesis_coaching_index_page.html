{% extends "theses/theses_base.html" %}
{% load wagtailuserbar %}
{% load wagtailcore_tags %}
{% load static %}

{% block content %}
<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <div id="form-container">
            <h1>{{ page.title }}</h1>
            {% include_block page.body %}

            <form id="coaching-form" action="" method="POST">
                {% csrf_token %}
                <div class="form-group">
                    {{ contactForm.contact_name.errors }}
                    {{ contactForm.contact_name }}
                </div>

                <div class="form-group">
                    {{ contactForm.contact_email.errors }}
                    {{ contactForm.contact_email }}
                </div>

                <div class="form-group">
                    {{ contactForm.university.errors }}
                    {{ contactForm.university }}
                </div>

                <div class="form-group">
                    {{ contactForm.requirements.errors }}
                    {{ contactForm.requirements }}
                </div>

                <div class="form-group">
                    {{ contactForm.career.errors }}
                    {{ contactForm.career }}
                </div>


                <div class="form-group">
                    {{ contactForm.preferences.errors }}
                    {{ contactForm.preferences }}
                </div>

                <div class="form-group">
                    {{ contactForm.read_above.errors }}
                    {{ contactForm.read_above }}
                </div>

                <div class="form-group">
                    <div class='input-group date'>
                        {{ contactForm.deadline.errors }}
                        {{ contactForm.deadline }}
                        <span class="input-group-addon">
                     <span class="fa fa-calendar"></span>
                     </span>
                    </div>
                </div>

                <div class="form-group">
                    {{ contactForm.anything_else.errors }}
                    {{ contactForm.anything_else }}
                </div>


                <input type="submit" value="Apply" class="btn btn-primary">
            </form>
        </div>
    </div>
    <div class="col-md-2"></div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static " js/theses.js" %}"></script>

<!--    <script type="text/javascript">
        $('#coaching-form').submit(function (e) {
            e.preventDefault();

            var _data = $(this).serializeArray();
            // _data.push({name: 'formSlug', value: 'simpleContactForm'});

            $.ajax({
                type: 'POST',
                url: '{{ request.build_absolute_uri }}',
                data: _data,
                headers: {
                    'X-CSRFToken': $("[name=csrfmiddlewaretoken]").val()
                },
                success: function (response) {
                    console.log(response);
                    $('#form-container').html(response['message']);
                },
                error: function (e, x, r) { // on error..
                    $('#form-container').html('Och! We got an error!');
                }
            })
        });
    </script>-->


{% endblock %}
