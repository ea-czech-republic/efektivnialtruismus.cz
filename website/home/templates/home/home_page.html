{% extends "base.html" %}

{% load i18n %}
{% load wagtailcore_tags %}
{% load menu_tags %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/eacr.css' %}">
{% endblock %}

{% block body_class %}template-homepage{% endblock %}

{% block base_content %}
<div class="container">
    <div class="row" id="menu_bar">
        <div class="col-lg-10 mb-3">
            {% main_menu template="menus/main_menu.html" %}
        </div>
    </div>

    <div class="row page-content">
        <!--             This is needed so it renders "static" homepage below but only
                        when it is really /home and not any descendant of home.
                        This solution will break as soon as you change slug of homepage from
                        "home" to something else -->

        {# {% for name, value in page.get_fields %}#}
        {# {% if value %}#}
        {# {{ name }} => {{ value }}#}
        {# <br/>#}
        {# {% endif %}#}
        {# {% endfor %}#}
        {% if "home" == page.slug %}


        <div class="col-lg-12" id="page-lead" style="background-image: url({% static "imgs/background.jpg" %});">
        <div class="row mt-5">
            <div class="mx-auto">
                <h3 class="display-3" style="font-weight: bold;">Efektivní Altruismus</h3>
            </div>
        </div>

        <div class="row mt-4">
            <div class="mx-auto">
                <h3 class="display-5" style="font-weight: bold;">Nejúčinnější z nejúčinnějších způsobů pomoci.</h3>
            </div>
        </div>

        <div class="row mt-5 mb-5">
            <div class="mx-auto">
                <a href="/co-je-ea" class="btn btn-secondary">Více informací</a>
                <span class="ml-2"></span>
                <a href="/blog" class="btn btn-secondary">Seznam článků</a>
            </div>
        </div>

    </div>

    <div class="row mt-5 mb-5">
        {% for block in page.body %}
            {{ block }}
        {% endfor %}
    </div>

    {% else %}
    {% block content %}
    {% if page.body %}
    <div class="row home-content">
        <div class="col-md-10">
            <h1>{{ page.title }}</h1>
            {% include_block page.body %}
        </div>
    </div>
    {% else %}
    Page {{ page.title }} on {{ page.url_path }} is empty!
    {% endif %}
    {% endblock %}
    {% endif %}
</div>

<hr class="mt-5"/>
<div class="row">
    <div class="col-md-12">
        <footer role="contentinfo">
            {% flat_menu "footer_menu" template="menus/footer_menu.html" %}
            <p class="copyright">
                © 2017 <a href="">Efektivní Altruismus</a>.
                <a href="http://github.com/ea-czech-republic/efektivnialtruismus.cz">Github EA ČR</a>
                -
                patches welcome.
            </p>
        </footer>
    </div>
</div>
</div>
{% endblock %}


{% block extra_js %}
<script type="text/javascript" src="{% static 'js/eacr.js' %}"></script>
{% endblock %}

